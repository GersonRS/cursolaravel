;(function(){/*
 OverlappingMarkerSpiderfier
https://github.com/jawj/OverlappingMarkerSpiderfier
Copyright (c) 2011 - 2013 George MacKerron
Released under the MIT licence: http://opensource.org/licenses/mit-license
Note: The Google Maps API v3 must be included *before* this code
*/
(function(){var w,A={}.hasOwnProperty,B=[].slice;null!=(null!=(w=this.google)?w.maps:void 0)&&(this.OverlappingMarkerSpiderfier=function(){function v(b,d){var a,g,e,f;this.map=b;null==d&&(d={});for(a in d)A.call(d,a)&&(g=d[a],this[a]=g);this.h=new this.constructor.j(this.map);this.u();this.b={};f=["click","zoom_changed","maptypeid_changed"];g=0;for(e=f.length;g<e;g++)a=f[g],k.addListener(this.map,a,function(a){return function(){return a.unspiderfy()}}(this)),k.addListener(this.map,a,function(a){return function(){return a.H()}}(this))}
var k,t,r,u,p,y,c,z,x,w;c=v.prototype;p=[v,c];r=0;for(u=p.length;r<u;r++)w=p[r],w.VERSION="0.3.3";t=google.maps;k=t.event;p=t.MapTypeId;x=2*Math.PI;z=[];y=[];c.keepSpiderfied=!1;c.markersWontHide=!1;c.markersWontMove=!1;c.nearbyDistance=20;c.circleSpiralSwitchover=9;c.circleFootSeparation=23;c.circleStartAngle=x/12;c.spiralFootSeparation=26;c.spiralLengthStart=11;c.spiralLengthFactor=4;c.spiderfiedZIndex=1E3;c.usualLegZIndex=10;c.highlightedLegZIndex=20;c.legWeight=1.5;c.legColors={usual:{},highlighted:{}};
u=c.legColors.usual;r=c.legColors.highlighted;u[p.HYBRID]=u[p.SATELLITE]="#fff";r[p.HYBRID]=r[p.SATELLITE]="#f00";u[p.TERRAIN]=u[p.ROADMAP]="#444";r[p.TERRAIN]=r[p.ROADMAP]="#f00";c.u=function(){this.a=[];this.m=[]};c.H=function(){z=[];return y=[]};c.addMarker=function(b){var d;if(null!=b._oms)return this;b._oms=!0;d=[k.addListener(b,"click",function(a){return function(d){return a.R(b,d)}}(this))];this.markersWontHide||d.push(k.addListener(b,"visible_changed",function(a){return function(){return a.v(b,
!1)}}(this)));this.markersWontMove||d.push(k.addListener(b,"ghostposition_changed",function(a){return function(){return a.v(b,!0)}}(this)));this.m.push(d);this.a.push(b);return this};c.keepItSpiderfied=function(){return this.C(z,y)};c.v=function(b,d){if(null!=b._omsData&&(d||!b.getVisible())&&null==this.D&&null==this.F)return this.unspiderfy(d?b:null)};c.getMarkers=function(){return this.a.slice(0)};c.removeMarker=function(b){var d,a,g,e,f;null!=b._omsData&&this.unspiderfy();d=this.s(this.a,b);if(0>
d)return this;f=this.m.splice(d,1)[0];a=0;for(g=f.length;a<g;a++)e=f[a],k.removeListener(e);delete b._oms;this.a.splice(d,1);return this};c.clearMarkers=function(){var b,d,a,g,e,f,c,h;this.unspiderfy();h=this.a;b=d=0;for(a=h.length;d<a;b=++d){f=h[b];e=this.m[b];c=0;for(b=e.length;c<b;c++)g=e[c],k.removeListener(g);delete f._oms}this.u();return this};c.addListener=function(b,d){var a;(null!=(a=this.b)[b]?a[b]:a[b]=[]).push(d);return this};c.removeListener=function(b,d){var a;a=this.s(this.b[b],d);
0>a||this.b[b].splice(a,1);return this};c.clearListeners=function(b){this.b[b]=[];return this};c.trigger=function(){var b,d,a,g,e,f;d=arguments[0];b=2<=arguments.length?B.call(arguments,1):[];d=null!=(a=this.b[d])?a:[];f=[];g=0;for(e=d.length;g<e;g++)a=d[g],f.push(a.apply(null,b));return f};c.I=function(b,d){var a,g,e,f,c;f=this.circleFootSeparation*(2+b)/x;g=x/b;c=[];for(a=e=0;0<=b?e<b:e>b;a=0<=b?++e:--e)a=this.circleStartAngle+a*g,c.push(new t.Point(d.x+f*Math.cos(a),d.y+f*Math.sin(a)));return c};
c.J=function(b,d){var a,g,e,f,c;f=this.spiralLengthStart;a=0;c=[];for(g=e=0;0<=b?e<b:e>b;g=0<=b?++e:--e)a+=this.spiralFootSeparation/f+5E-4*g,g=new t.Point(d.x+f*Math.cos(a),d.y+f*Math.sin(a)),f+=x*this.spiralLengthFactor/a,c.push(g);return c};c.R=function(b,d){var a,g,e,f,c,h,l,m,n;(h=null!=b._omsData)&&this.keepSpiderfied||this.unspiderfy();if(h||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",b,d);h=[];l=[];a=this.nearbyDistance;m=a*
a;c=this.c(b.getGhostPosition());n=this.a;a=0;for(g=n.length;a<g;a++)e=n[a],null!=e.map&&e.getVisible()&&(f=this.c(e.getGhostPosition()),this.i(f,c)<m?h.push({M:e,w:f}):l.push(e));return 1===h.length?this.trigger("click",b,d):this.C(h,l)};c.markersNearMarker=function(b,d){var a,g,e,c,q,h,l,m,n,k;null==d&&(d=!1);if(null==this.h.getProjection())throw"Must wait for 'idle' event on map before calling markersNearMarker";a=this.nearbyDistance;l=a*a;q=this.c(b.getGhostPosition());h=[];m=this.a;a=0;for(g=
m.length;a<g&&!(e=m[a],e!==b&&null!=e.map&&e.getVisible()&&(c=this.c(null!=(n=null!=(k=e._omsData)?k.G:void 0)?n:e.getGhostPosition()),this.i(c,q)<l&&(h.push(e),d)));a++);return h};c.markersNearAnyOtherMarker=function(){var b,d,a,g,e,c,q,h,l,m,n,k;if(null==this.h.getProjection())throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";m=this.nearbyDistance;b=m*m;c=this.a;m=[];n=0;for(a=c.length;n<a;n++)d=c[n],m.push({A:this.c(null!=(g=null!=(e=d._omsData)?e.G:void 0)?g:d.getGhostPosition()),
f:!1});n=this.a;d=g=0;for(e=n.length;g<e;d=++g)if(a=n[d],null!=a.map&&a.getVisible()&&(q=m[d],!q.f))for(k=this.a,a=l=0,c=k.length;l<c;a=++l)if(h=k[a],a!==d&&null!=h.map&&h.getVisible()&&(h=m[a],(!(a<d)||h.f)&&this.i(q.A,h.A)<b)){q.f=h.f=!0;break}n=this.a;a=[];b=e=0;for(g=n.length;e<g;b=++e)d=n[b],m[b].f&&a.push(d);return a};c.L=function(b){return{l:function(d){return function(){return b._omsData.g.setOptions({strokeColor:d.legColors.highlighted[d.map.mapTypeId],zIndex:d.highlightedLegZIndex})}}(this),
o:function(d){return function(){return b._omsData.g.setOptions({strokeColor:d.legColors.usual[d.map.mapTypeId],zIndex:d.usualLegZIndex})}}(this)}};c.C=function(b,d){var a,c,e,f,q,h,l,m,n,p;this.D=!0;z=b.slice();y=d.slice();p=b.length;a=this.O(function(){var a,d,e;e=[];a=0;for(d=b.length;a<d;a++)m=b[a],e.push(m.w);return e}());f=p>=this.circleSpiralSwitchover?this.J(p,a).reverse():this.I(p,a);a=function(){var a,d,m;m=[];a=0;for(d=f.length;a<d;a++)e=f[a],c=this.P(e),n=this.N(b,function(a){return function(b){return a.i(b.w,
e)}}(this)),l=n.M,h=new t.Polyline({map:this.map,path:[l.getGhostPosition(),c],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),l._omsData={G:l.getGhostPosition(),g:h},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(q=this.L(l),l._omsData.K={l:k.addListener(l,"mouseover",q.l),o:k.addListener(l,"mouseout",q.o)}),l.setGhostPosition(c),l.setZIndex(Math.round(this.spiderfiedZIndex+e.y)),m.push(l);
return m}.call(this);delete this.D;this.B=!0;return this.trigger("spiderfy",a,d)};c.unspiderfy=function(b){var d,a,c,e,f,q,h;null==b&&(b=null);if(null==this.B)return this;this.F=!0;h=[];f=[];q=this.a;d=0;for(a=q.length;d<a;d++)e=q[d],null!=e._omsData?(c=e._omsData.g.getPath(),e!==b&&e.setGhostPosition(c.getArray()[0]),e._omsData.g.setMap(null),e.setZIndex(null),c=e._omsData.K,null!=c&&(k.removeListener(c.l),k.removeListener(c.o)),delete e._omsData,h.push(e)):f.push(e);delete this.F;delete this.B;
this.trigger("unspiderfy",h,f);return this};c.i=function(b,d){var a,c;a=b.x-d.x;c=b.y-d.y;return a*a+c*c};c.O=function(b){var d,a,c,e,f;d=e=f=0;for(a=b.length;d<a;d++)c=b[d],e+=c.x,f+=c.y;b=b.length;return new t.Point(e/b,f/b)};c.c=function(b){return this.h.getProjection().fromLatLngToDivPixel(b)};c.P=function(b){return this.h.getProjection().fromDivPixelToLatLng(b)};c.N=function(b,d){var a,c,e,f,k,h;e=k=0;for(h=b.length;k<h;e=++k)if(f=b[e],f=d(f),"undefined"===typeof a||null===a||f<c)c=f,a=e;return b.splice(a,
1)[0]};c.s=function(b,d){var a,c,e,f;if(null!=b.indexOf)return b.indexOf(d);a=c=0;for(e=b.length;c<e;a=++c)if(f=b[a],f===d)return a;return-1};v.j=function(b){return this.setMap(b)};v.j.prototype=new t.OverlayView;v.j.prototype.draw=function(){};return v}())}).call(this);}).call(this);
/* 04-Oct-15 15:38:21.73 */ 
